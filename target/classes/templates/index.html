<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" th:href="@{/css/base.css}" />
  <link rel="stylesheet" type="text/css" th:href="@{/css/jquery.dialog.css}" />
  <link rel="stylesheet" th:href="@{/css/index.css}" />
  <style>
    .layui-layer-title{background:url(/static/images/righttitlebig.png) repeat-x;font-weight:bold;color:#46647e; border:1px solid #c1d3de;height: 33px;line-height: 33px;}
    .title{ float:left; margin:8px 0 0 20px; width:400px; height:64px;
      background-repeat: no-repeat;
      position:relative;top:7px;color: #F0F0F0;font-size: 18px;font-family: STHeiti}
    html{*overflow:auto;min-width: 1020px;}
    body{ font-family:'微软雅黑';background:#2a83cf;}


    /*页面头部*/
    #hd{  height:74px;background:url(../images/topbg.png) repeat-x;}
    #hd .hd-wrap{ position:relative;height:74px; background:url(../images/topline.png) no-repeat left bottom;}
    #hd .hd-wrap .top-light{ position:absolute; width:346px; height:74px; background:url(../images/toplight.png); top:0; left:0;}
    h1{ float:left; margin:8px 0 0 20px; width:260px; height:64px;
      /*background:url(../images/LOGO74.png);*/
      background-repeat: no-repeat;
      position:relative;top:1px;}
    .login-info{ float:left; margin:38px 0 0 23px; height:18px;}
    .login-info .welcome{ float:left; padding-left:20px; width:90px; height:18px; line-height:18px; background:url(../images/topuser.png) no-repeat left bottom; font-size:14px; color:#fff;}
    .login-info .welcome span{ float:left;}
    .login-info .welcome .user-name{ float:left; color:#fff;}
    .login-info .login-msg{ float:left; margin-left:22px;}
    .login-info .login-msg a{ float:left; height:18px; line-height:18px;}
    .login-info .login-msg a.msg-txt{ float:left; padding-left:20px; width:28px; background:url(../images/topmail.png) no-repeat left center; color:#fff; font-size:14px;}
    .login-info .login-msg a.msg-num{ display:block;float:left; width:16px; height:9px; margin:6px 0 0 4px; background:url(../images/countbg.png); color:#fff; line-height:9px; font-size:9px; text-align: center;}
    .toolbar{ float:right; margin:20px 14px 0 0;}
    .toolbar a{ float:left; height:42px; line-height:42px;}
    .toolbar a.home-btn{ width:40px; padding-left:46px; background:url(../images/home.png) no-repeat left top; color:#fff; font-size:14px;}
    .toolbar a.quit-btn{ width:39px; background:url(../images/exit.png) no-repeat left top;}
    .toolbar a.home-btn1{ width:70px; padding-left:36px; background:url(../images/icon03.png) no-repeat left top; color:#fff; font-size:14px;background-size: 38px 38px}


    /*页面主体*/
    #bd{ padding-top:6px; margin:0 4px; background:#fff url(../images/centertopbg.png) repeat-x left top;}
    #bd .wrap{ padding-left:187px; padding-bottom:6px; padding-right:6px; background:url(../images/centerbottombg.png) repeat-x left bottom;}

    /*左侧栏导航*/
    .sidebar{ height:100%; float:left; margin-left:-181px; width:175px; overflow-y:auto;}
    .sidebar h2{  background:url(../images/lefttopbg.png) repeat-x; border-radius:2px 2px 0 0; }
    .sidebar h2 p{ margin-left:15px;padding-left:25px; line-height:35px;color:#fff; font-size:14px; font-weight:bold; background:url(../images/icon0.png) no-repeat left center;}

    /*主导航*/
    .sidebar .nav{ border:1px solid #bdd0db; border-top:none; background:#f1f8fc;}
    .sidebar .nav>li{ line-height:40px; border-bottom:1px solid #dbe9f1; cursor:pointer;}
    .sidebar .nav>li.current .nav-header{ background:#6ec673;   border-color:#72b877;}
    .sidebar .nav>li.current .nav-header span{color:#fff;}
    .sidebar .nav>li .nav-header{ padding-right:14px;}
    .sidebar .nav>li .nav-header a{ display:block; margin-left:8px; padding-left:32px; color:#000; font-size:13px;}
    .sidebar .nav>li .nav-header a span{ float:left;}
    .sidebar .nav>li .nav-header a i{ float:right; width:12px; height:40px; background:url(../images/leftjt01.png) no-repeat center center;}
    .sidebar .nav>li.current .nav-header a i{  background:url(../images/leftjt03.png) no-repeat center center;}
    .sidebar .nav>li.current .nav-header a .hasChild {  background:url(../images/leftjt02.png) no-repeat center center;}
    .sidebar .nav>li.office .nav-header a{ background:url(../images/ico01.png) no-repeat left center;}
    .sidebar .nav>li.gongwen .nav-header a{ background:url(../images/icon99.png) no-repeat left center;}
    .sidebar .nav>li.nav-info .nav-header a{ background:url(../images/ico03.png) no-repeat left center;}
    .sidebar .nav>li.konwledge .nav-header a{ background:url(../images/ico04.png) no-repeat left center;}
    .sidebar .nav>li.agency .nav-header a{ background:url(../images/liicon02.png) no-repeat left center;}
    .sidebar .nav>li.email .nav-header a{ background:url(../images/ico06.png) no-repeat left center;}
    .sidebar .nav>li.system .nav-header a{ background:url(../images/ico07.png) no-repeat left center;}
    .sidebar .nav>li.land .nav-header a{ background:url(../images/licon01.png) no-repeat left center;}
    .sidebar .nav>li.role_m .nav-header a{ background:url(../images/ico90.png) no-repeat left center;}
    .sidebar .nav>li.news_m .nav-header a{ background:url(../images/ico91.png) no-repeat left center;}
    .sidebar .nav>li.list_m .nav-header a{ background:url(../images/liicon03.png) no-repeat left center;}
    .sidebar .nav>li.sign .nav-header a{ background:url(../images/liicon05.png) no-repeat left center;}
    .sidebar .nav>li.train .nav-header a{ background:url(../images/liicon06.png) no-repeat left center;}
    .sidebar .nav>li.person .nav-header a{ background:url(../images/ico05.png) no-repeat left center;}
    .sidebar .nav>li.dossier .nav-header a{ background:url(../images/liicon07.png) no-repeat left center;}
    .sidebar .nav>li.data .nav-header a{ background:url(../images/liicon08.png) no-repeat left center;}
    .sidebar .nav>li.list01 .nav-header a{ background:url(../images/liicon09.png) no-repeat left center;}
    .sidebar .nav>li.list02 .nav-header a{ background:url(../images/liicon10.png) no-repeat left center;}
    .sidebar .nav>li.part .nav-header a{ background:url(../images/ico07.png) no-repeat left center;}

    /*子导航*/
    .sidebar .nav>li .subnav{ display:none; padding:6px 0 11px 0;}
    .sidebar .nav>li.current .subnav{ display:none;}
    .sidebar .nav>li.current.hasChild .subnav{ display:block;}
    .sidebar .nav>li .subnav li{ line-height:28px; margin-left:30px; padding-left:10px; background:url(../images/leftjt04.png) no-repeat left center;}
    .sidebar .nav>li .subnav li a{ color:#000; font-size:12px;display: block}
    .sidebar .nav>li .subnav li .color{ color:#2a83cf; font-size:12px;display: block}
    .sidebar .nav>li .subnav li a:hover{color:#2a83cf}


    .content{ float:left; width:100%; overflow:auto;}

    /*页面底部*/
    #ft{ height:25px; line-height:22px; background:url(../images/footbg.png) repeat-x;}
    #ft span{  color:#08496e; }
    #ft em{ color:#d3eaf6;}
    .ft-left{ float:left;}
    .ft-left span{margin-left:11px; padding-left:19px;background:url(../images/foot01.png) no-repeat left center;}
    .ft-left em{ margin-left:4px;}
    .ft-right{ float:right; margin:0 11px 0 3px; padding-right:10px; background:url(../images/foot02.png) no-repeat right center;}
    .foot_div{
      margin: 0 auto;
      width: 100%;
      text-align: center;
    }

    /*弹窗内容样式*/
    .dialog-content .buttons{margin-top:30px;}
  </style>
  <title>公安交通管理软件质量及安全合规性检验管理系统</title>
</head>
<body>
<div id="container">
  <div id="hd">
    <div class="hd-wrap ue-clear">
      <div class="top-light"></div>
      <div class="title">公安交通管理软件质量及安全合规性检验管理系统</div>
      <div class="login-info ue-clear">
<!--        <shiro:user>-->
<!--          用户[<shiro:principal property="username"/>]登录成功-->
<!--          当前用户的身份是<shiro:hasRole name="admin">[管理员]</shiro:hasRole>-->
<!--          <shiro:hasRole name="system">[系统管理员]</shiro:hasRole>-->
<!--          <shiro:hasRole name="audit">[安全审计员]</shiro:hasRole>-->
<!--        </shiro:user>-->
<!--        <div class="welcome ue-clear"><span>欢迎您!</span><a class="user-name" th:text="${username}"></a></div>-->
        <div class="login-msg ue-clear">
        </div>
      </div>
      <div class="toolbar ue-clear">
        <a class="home-btn1" th:href="@{/EditPassword}">修改密码</a>
        <a class="quit-btn exit home-btn" th:href="@{/user/logout}">退出</a>
      </div>
    </div>
  </div>

  <div id="bd">
    <div class="wrap ue-clear">
      <div class="sidebar"  id="menu">
      </div>
      <div class="content">
        <iframe th:src="@{/home.html}" id="iframe" width="100%" height="100%" frameborder="0" name="right" style="min-width: 1100px"></iframe>
      </div>
    </div>
  </div>
  <div id="ft" class="foot_div">

    <div class="ft-right">

    </div>
  </div>
</div>

</body>
<script type="text/javascript" th:src="@{/js/jqueryNew.js}"></script>
<script type="text/javascript" th:src="@{/js/core.js}"></script>
<script type="text/javascript" th:src="@{/js/jquery.dialog.js}"></script>
<script type="text/javascript" th:src="@{/js/index.js}"></script>
<script>
  window.onload=function (){
    $.ajax({
      url:'/listMenu',
      type:'GET',
      success:function (data){
        var str ='';
        str += '<h2 class="sidebar-header" ><p>功能导航</p></h2>\n' +
                '        <ul class="nav">\n' +
                '          <li class="office"><div class="nav-header"><a target="right" class="ue-clear"><span>首页</span><i class="icon"></i></a></div></li>\n';
        $.each(data,function (i,item){
          str += '<li class="'+item.icon+'">\n';
          str += '<div class="nav-header"><a class="ue-clear">\n';
          str += '<span>'+item.menu_name+'</span>\n';
          str += '<i class="icon hasChild"></i></a></div>\n';
          str += '<ul class="subnav">\n';
          if(item.childMenu.length != 0){
            $.each(item.childMenu,function (j,item2){
              str += '<li><a href="'+item2.url+'"\n';
              str += 'target="right">'+item2.menu_name+'</a></li>\n';
            })
          }
          str += '</ul></li>\n';
        });
        $("#menu").append(str);
        $('.nav>li').click(function () {
          $('.nav>li').removeClass("current");
          $(".subnav li a").removeClass("color");
          $(this).addClass("current");
          var $ul = $(".subnav",this);
          $(".subnav").slideUp();
          if ($ul.is(':visible')) {
            $ul.slideUp();
          }else {
            $ul.slideDown();
          }
        });
        $(".subnav li").click(function(e){
          $(".subnav li a").removeClass("color");
          $("a",$(this)).addClass("color");
          e.stopPropagation();
        });
      }
    })
  }
</script>
</html>
