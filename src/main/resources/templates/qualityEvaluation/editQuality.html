<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <th:block th:include="include :: header('更新任务信息')"/>
    </head>
    <body>
        <div class="main-content">
            <form id="form-user-add" class="form-horizontal" action="/quality/updateQuality" method="post">
                <!-- platform-->
                <h4 class="form-header h4">质量评价任务信息修改</h4>

                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label is-required">序号:</label>
                        <div class="col-sm-8">
                            <input readonly name="uid" th:value="${quality.getUid()}" class="form-control"
                                   type="text" maxlength="30" required>
                        </div>
                    </div>
                </div>

                <h4 class="form-header h4"></h4>
                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label is-required">任务编号:</label>
                        <div class="col-sm-8">
                            <input name="quality_id" th:value="${quality.getQuality_id()}" class="form-control"
                                   type="text" maxlength="30" required>
                        </div>
                    </div>
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label is-required">软件名称:</label>
                        <div class="col-sm-8">
                            <input name="software_name" th:value="${quality.getSoftware_name()}"
                                   class="form-control" type="text" maxlength="30" required>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label is-required">软件版本:</label>
                        <div class="col-sm-8">
                            <input name="software_version" th:value="${quality.getSoftware_version()}"
                                   class="form-control" type="text" maxlength="30" required>
                        </div>
                    </div>
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label is-required">软件类别:</label>
                        <div class="col-sm-8">
                            <select name="software_category" class="form-control" type="text" maxlength="30" required>
                                <option value="嵌入式软件">嵌入式软件</option>
                                <option value="桌面应用软件">桌面应用软件</option>
                                <option value="中间件软件">中间件软件</option>
                                <option value="移动应用软件">移动应用软件</option>
                                <option value="大数据与云计算软件">大数据与云计算软件</option>
                                <option value="人工智能软件">人工智能软件</option>
                                <option value="其他">其他</option>
                                <option th:value="${quality.getSoftware_category()}"
                                        th:text="${quality.getSoftware_category()}"
                                        selected hidden></option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label is-required">生产单位:</label>
                        <div class="col-sm-8">
                            <input name="production_unit" th:value="${quality.getProduction_unit()}"
                                   class="form-control" type="text" maxlength="30" required>
                        </div>
                    </div>
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">软件说明:</label>
                        <div class="col-sm-8">
                            <input name="software_desc" th:value="${quality.getSoftware_desc()}"
                                   class="form-control" type="text" maxlength="30">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">联系人:</label>
                        <div class="col-sm-8">
                            <input name="contact_person" th:value="${quality.getContact_person()}"
                                   class="form-control" type="text" maxlength="30">
                        </div>
                    </div>
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">联系电话:</label>
                        <div class="col-sm-8">
                            <input name="contact_number" th:value="${quality.getContact_number()}"
                                   class="form-control" type="text" maxlength="30">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">规格型号:</label>
                        <div class="col-sm-8">
                            <input name="specification_model" th:value="${quality.getSpecification_model()}"
                                   class="form-control" type="text" maxlength="30">
                        </div>
                    </div>
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">软件架构:</label>
                        <div class="col-sm-8">
                            <select name="software_arch" class="form-control" type="text" maxlength="30">
                                <option value="分层模式">分层模式</option>
                                <option value="客户端／服务器模式">客户端／服务器模式</option>
                                <option value="主／从模式">主／从模式</option>
                                <option value="管道／过滤器模式">管道／过滤器模式</option>
                                <option value="代理模式">代理模式</option>
                                <option value="对等模式">对等模式</option>
                                <option value="事件总线模式">事件总线模式</option>
                                <option value="MVC模式">MVC模式</option>
                                <option value="黑板模式">黑板模式</option>
                                <option value="解析器模式">解析器模式</option>
                                <option value="其他">其他</option>
                                <option th:value="${quality.getSoftware_arch()}" th:text="${quality.getSoftware_arch()}"
                                        selected hidden></option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">数据库信息:</label>
                        <div class="col-sm-8">
                            <input name="db_info" th:value="${quality.getDb_info()}" class="form-control"
                                   type="text"
                                   maxlength="30">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">状态:</label>
                        <div class="col-sm-8">
                            <input disabled="disabled" name="status" th:value="${status}" class="form-control"
                                   type="text" maxlength="30">
                        </div>
                    </div>
                </div>

                <h4 class="form-header h4">参考标准</h4>
                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">参考标准:</label>
                        <div class="col-sm-8">
                            <select name="isGuideLine" class="form-control" type="text" maxlength="30">
                                <option th:each="list:${lists}" th:value="${list}" th:text="${list}"></option>
                                <option th:value="${quality.getIsGuideLine()}" th:text="${quality.getIsGuideLine()}"
                                        selected hidden></option>
                            </select>
                        </div>
                    </div>
                </div>

                <h4 class="form-header h4">附件地址</h4>
                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">软件需求规格说明地址:</label>
                        <div class="col-sm-8">
                            <input readonly name="specification_url" th:value="${quality.getSpecification_url()}"
                                   class="form-control" type="text" maxlength="30">
                        </div>
                    </div>
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">软件说明书地址:</label>
                        <div class="col-sm-8">
                            <input readonly name="manual_url" th:value="${quality.getManual_url()}"
                                   class="form-control" type="text" maxlength="30">
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">项目代码文件地址:</label>
                        <div class="col-sm-8">
                            <input readonly name="code_file_url" th:value="${quality.getCode_file_url()}"
                                   class="form-control" type="text" maxlength="30">
                        </div>
                    </div>
                </div>

                <h4 class="form-header h4">时间信息</h4>
                <div class="row">
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">创建时间:</label>
                        <div class="col-sm-8">
                            <input readonly name="specification_url" th:value="${gmtCreated}"
                                   class="form-control" type="text" maxlength="30">
                        </div>
                    </div>
                    <div class="columns col-sm-6 form-group">
                        <label class="col-sm-4 control-label">修改时间:</label>
                        <div class="col-sm-8">
                            <input readonly name="manual_url" th:value="${gmtModified}"
                                   class="form-control" type="text" maxlength="30">
                        </div>
                    </div>
                </div>

                <h5 class="form-header h5">软件需求规格说明</h5>
                <div class="container">
                    <input id="uploadSpecification" type="file" class="file" name="file"/>
                </div>

                <h5 class="form-header h5">软件说明书</h5>
                <div class="container">
                    <input id="uploadManual" type="file" class="file" name="file"/>
                </div>

                <h5 class="form-header h5">代码文件提交（以zip文件提交）</h5>
                <div class="container">
                    <input id="uploadCode" type="file" class="file" name="file"/>
                </div>

                <div class="row">
                    <div class="col-sm-6"></div>
                    <div class="col-sm-1">
                        <input type="submit" class="btn btn-sm btn-primary" value="提交">
                    </div>
                </div>

            </form>

        </div>

        <!-- 上传文件插件 -->
        <th:block th:include="include-origin :: bootstrap-file-upload-js"/>

        <script>
            $("#uploadSpecification").fileinput({
                language: 'zh', //设置语言
                uploadUrl: "/quality/uploadSpecification", //上传的地址
                allowedFileExtensions: ['docx', 'doc'], //接收的文件后缀
                showClose: false,//是否显示关闭按钮
                uploadAsync: true, //默认异步上传
                showUpload: true, //是否显示上传按钮
                showRemove: true, //显示移除按钮
                showPreview: true, //是否显示预览
                showCaption: false, //是否显示标题
                browseClass: "btn btn-primary", //按钮样式
                dropZoneEnabled: true, //是否显示拖拽区域
                maxFileSize: 0,//单位为kb，如果为0表示不限制文件大小
                maxFileCount: 10, //表示允许同时上传的最大文件个数
                enctype: 'multipart/form-data',
                validateInitialCount: true,
                previewFileIcon: "<i class='glyphicon glyphicon-king'></i>",
                msgFilesTooMany: "选择上传的文件数量({n}) 超过允许的最大数值{m}！",
            }).on('filepreupload', function (event, data, previewId, index) {     //上传中
                console.log('文件正在上传');
            }).on("fileuploaded", function (event, data, previewId, index) {    //一个文件上传成功
                var form = data.form, files = data.files, extra = data.extra,
                    response = data.response, reader = data.reader;
                console.log(response);//打印出返回的json
                console.log(response.status);//打印出路径
            }).on('fileerror', function (event, data, msg) {  //一个文件上传失败
                console.log('文件上传失败！' + data.status);
            })
        </script>

        <script>
            $("#uploadManual").fileinput({
                language: 'zh', //设置语言
                uploadUrl: "/quality/uploadManual", //上传的地址
                allowedFileExtensions: ['docx', 'doc'], //接收的文件后缀
                showClose: false,//是否显示关闭按钮
                uploadAsync: true, //默认异步上传
                showUpload: true, //是否显示上传按钮
                showRemove: true, //显示移除按钮
                showPreview: true, //是否显示预览
                showCaption: false, //是否显示标题
                browseClass: "btn btn-primary", //按钮样式
                dropZoneEnabled: true, //是否显示拖拽区域
                maxFileSize: 0,//单位为kb，如果为0表示不限制文件大小
                maxFileCount: 10, //表示允许同时上传的最大文件个数
                enctype: 'multipart/form-data',
                validateInitialCount: true,
                previewFileIcon: "<i class='glyphicon glyphicon-king'></i>",
                msgFilesTooMany: "选择上传的文件数量({n}) 超过允许的最大数值{m}！",
            }).on('filepreupload', function (event, data, previewId, index) {     //上传中
                console.log('文件正在上传');
            }).on("fileuploaded", function (event, data, previewId, index) {    //一个文件上传成功
                var form = data.form, files = data.files, extra = data.extra,
                    response = data.response, reader = data.reader;
                console.log(response);//打印出返回的json
                console.log(response.status);//打印出路径
            }).on('fileerror', function (event, data, msg) {  //一个文件上传失败
                console.log('文件上传失败！' + data.status);
            })
        </script>

        <script>
            $("#uploadCode").fileinput({
                language: 'zh', //设置语言
                uploadUrl: "/quality/uploadCode", //上传的地址
                allowedFileExtensions: ['zip'], //接收的文件后缀
                showClose: false,//是否显示关闭按钮
                uploadAsync: true, //默认异步上传
                showUpload: true, //是否显示上传按钮
                showRemove: true, //显示移除按钮
                showPreview: true, //是否显示预览
                showCaption: false, //是否显示标题
                browseClass: "btn btn-primary", //按钮样式
                dropZoneEnabled: true, //是否显示拖拽区域
                maxFileSize: 0,//单位为kb，如果为0表示不限制文件大小
                maxFileCount: 10, //表示允许同时上传的最大文件个数
                enctype: 'multipart/form-data',
                validateInitialCount: true,
                previewFileIcon: "<i class='glyphicon glyphicon-king'></i>",
                msgFilesTooMany: "选择上传的文件数量({n}) 超过允许的最大数值{m}！",
            }).on('filepreupload', function (event, data, previewId, index) {     //上传中
                console.log('文件正在上传');
            }).on("fileuploaded", function (event, data, previewId, index) {    //一个文件上传成功
                var form = data.form, files = data.files, extra = data.extra,
                    response = data.response, reader = data.reader;
                console.log(response);//打印出返回的json
                console.log(response.status);//打印出路径
            }).on('fileerror', function (event, data, msg) {  //一个文件上传失败
                console.log('文件上传失败！' + data.status);
            })
        </script>

    </body>

</html>